<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Fitness - Select Workout</title>
    <!-- Fonts and Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Main Stylesheet (using the new dashboard style) -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/new_dashboard_style.css') }}"
    />
  </head>
  <body data-theme="dark">
    <div class="dashboard-wrapper">
      <!-- ==== Sidebar Navigation ==== -->
      <nav class="sidebar">
        <div class="sidebar-header">
          <i data-feather="activity"></i>
          <span>FitCo</span>
        </div>
        <ul class="sidebar-links">
          <li>
            <a href="{{ url_for('new_dashboard') }}"
              ><i data-feather="grid"></i><span>Dashboard</span></a
            >
          </li>
          <li class="active">
            <a href="{{ url_for('select_exercise') }}"
              ><i data-feather="video"></i><span>Workouts</span></a
            >
          </li>
          <li>
            <a href="{{ url_for('new_dashboard') }}"
              ><i data-feather="clock"></i><span>History</span></a
            >
          </li>
          <li>
            <a href="#"><i data-feather="settings"></i><span>Settings</span></a>
          </li>
        </ul>
        <div class="sidebar-footer">
          <a href="#"><i data-feather="user"></i><span>Profile</span></a>
          <a href="#"><i data-feather="log-out"></i><span>Logout</span></a>
        </div>
      </nav>

      <!-- ==== Main Content ==== -->
      <main class="main-content exercise-selection-page">
        <div class="card exercise-list-card">
          <h1 class="exercise-list-header">Select an Exercise</h1>
          <ul class="exercise-list">
            {% for exercise in exercises %}
            <li
              class="exercise-item {% if exercise.disabled %}disabled{% endif %}"
            >
              <div class="exercise-info">
                <span class="exercise-name">{{ exercise.name }}</span>
                <span class="exercise-last-performed"
                  >Last done: {{ exercise.last_performed }}</span
                >
              </div>
              <div class="exercise-actions">
                <a
                  href="{{ url_for('history', exercise=exercise.name) }}"
                  class="button history-button"
                  title="View history for {{ exercise.name }}"
                >
                  <i data-feather="clock"></i> History
                </a>
                {% if not exercise.disabled %}
                <a
                  href="{{ url_for('workout', exercise=exercise.id) }}"
                  class="button start-button"
                >
                  Start <i data-feather="play"></i>
                </a>
                {% else %}
                <a href="#" class="button start-button disabled">
                  Soon <i data-feather="lock"></i>
                </a>
                {% endif %}
              </div>
            </li>
            {% endfor %}
          </ul>
        </div>
      </main>
    </div>
    <script>
      feather.replace(); // Initialize feather icons
    </script>
  </body>
</html>
